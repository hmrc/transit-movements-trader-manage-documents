@(permission: viewmodels.PermissionToStartUnloading)

<fo:table-cell number-columns-spanned="2">
    <fo:block>
        <fo:table width="100%" table-layout="fixed">
            <fo:table-column column-width="24mm"/>
            <fo:table-column column-width="32mm"/>
            <fo:table-column column-width="12mm"/>
            <fo:table-body>
                <fo:table-row height="8mm">
                    <fo:table-cell number-columns-spanned="3">
                        <fo:block>
                            <fo:table width="100%" table-layout="fixed">
                                <fo:table-column column-width="24mm"/>
                                <fo:table-column column-width="44mm"/>
                                <fo:table-body>
                                    <fo:table-row height="4mm">
                                        <fo:table-cell display-align="center" number-columns-spanned="2" padding-left="2mm">
                                            <fo:block>33 Commodity Code</fo:block>
                                        </fo:table-cell>
                                    </fo:table-row>
                                    <fo:table-row height="4mm">
                                        <fo:table-cell border-right-style="solid" border-right-width="1pt" border-right-color="black" display-align="center" font-weight="bold" text-align="center">
                                            <fo:block>
                                                @if(!permission.printListOfItems) {
                                                    @permission.goodsItems.head.commodityCode.map(code => code)
                                                }
                                            </fo:block>
                                        </fo:table-cell>
                                        <fo:table-cell>
                                            <fo:block/>
                                        </fo:table-cell>
                                    </fo:table-row>
                                </fo:table-body>
                            </fo:table>
                        </fo:block>
                    </fo:table-cell>
                </fo:table-row>
                <fo:table-row height="8mm">
                    <fo:table-cell border-style="solid" border-width="1pt" border-color="black" number-rows-spanned="2 @* TODO: This may need to be 2 *@">
                        <fo:block/>
                    </fo:table-cell>
                    <fo:table-cell>
                        <fo:block>
                            <fo:table width="100%" table-layout="fixed">
                                <fo:table-column column-width="32mm" padding-top="1mm"/>
                                <fo:table-body>
                                    <fo:table-row height="4mm">
                                        <fo:table-cell padding-left="2mm" border-top-style="solid" border-top-width="1pt" border-top-color="black" border-right-style="solid" border-right-width="1pt" border-right-color="black" display-align="center">
                                            <fo:block>35 Gross mass (Kg)</fo:block>
                                        </fo:table-cell>
                                    </fo:table-row>
                                    <fo:table-row height="4mm">
                                        <fo:table-cell border-right-style="solid" border-right-width="1pt" border-right-color="black" display-align="center" font-weight="bold" text-align="center">
                                            <fo:block>
                                                @permission.grossMass
                                            </fo:block>
                                            <fo:block/>
                                        </fo:table-cell>
                                    </fo:table-row>
                                </fo:table-body>
                            </fo:table>
                        </fo:block>
                    </fo:table-cell>
                    <fo:table-cell>
                        <fo:block/>
                    </fo:table-cell>
                </fo:table-row>
                <fo:table-row height="8mm">
                    <fo:table-cell border-style="solid" border-width="1pt" border-color="black">
                        <fo:block>
                            <fo:table width="100%" table-layout="fixed">
                                <fo:table-column column-width="32mm"/>
                                <fo:table-body>
                                    <fo:table-row height="4mm">
                                        <fo:table-cell padding-left="2mm" padding-top="1mm">
                                            <fo:block>38 Net mass (Kg)</fo:block>
                                        </fo:table-cell>
                                    </fo:table-row>
                                    <fo:table-row height="4mm">
                                        <fo:table-cell display-align="center" font-weight="bold" text-align="center">
                                            <fo:block>
                                                @if(!permission.printListOfItems) {
                                                    @permission.goodsItems.head.netMass.map(netMass => netMass)
                                                }
                                            </fo:block>
                                        </fo:table-cell>
                                    </fo:table-row>
                                </fo:table-body>
                            </fo:table>
                        </fo:block>
                    </fo:table-cell>
                    <fo:table-cell>
                        <fo:block/>
                    </fo:table-cell>
                </fo:table-row>
                <fo:table-row height="8mm">
                    <fo:table-cell padding-left="2mm" padding-top="1mm" border-top-style="solid" border-top-width="1pt" border-top-color="black" border-bottom-style="solid" border-bottom-width="1pt" border-bottom-color="black" number-columns-spanned="3">
                        <fo:block>40 Summary declaration/Previous document</fo:block>
                        <fo:block margin-top="1mm" font-weight="bold">
                            @* TODO: It looks like there's a link to external reference data used for documents
                            with print-pre-doc template java:getValue($Pre-Doc, $docTyp)
                            UPDATE: ProducedDocumentConverter is used to load reference data
                            *@
                            @if(!permission.printListOfItems) {
                            <fo:inline font-style="italic">
                                @permission.goodsItems.head.producedDocuments.head.display
                            </fo:inline>
                            }
                        </fo:block>
                    </fo:table-cell>
                </fo:table-row>
            </fo:table-body>
        </fo:table>
    </fo:block>
</fo:table-cell>