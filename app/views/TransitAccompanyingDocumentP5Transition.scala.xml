@import views.xml.DocumentTemplate
@import views.xml.componentsP5Transition._
@import views.xml.PageOne

@this(
        mainHeader: table_1.table,
        table2: table_2.table,
        table3: table_3.table,
        table4: table_4.table,
        table5: table_5.table,
        template: DocumentTemplate,
        pageOne: PageOne,
        pageTwo: second_page.table
)

@(tadModel: viewmodels.TransitAccompanyingDocumentP5TransitionPDF)
@template(
    pageOne = pageOne(pageOneBody),
    pageTwo =  if(tadModel.printListOfItems) {
        Some(pageTwo(
            tadModel.departureOffice,
            tadModel.movementReferenceNumber.split(',').head,
            tadModel.acceptanceDate.map(_.formattedDate),
            tadModel.goodsItems,
            tadModel.declarationType,
            tadModel.authorisation
        ))
    } else None
)


@pageOneBody = {
    <!--main header-->
    @mainHeader(
        title = "TRANSIT - ACCOMPANYING DOCUMENT",
        boldHeading = true,
        movementReferenceNumber = tadModel.movementReferenceNumber.split(",").head,
        lrn = tadModel.movementReferenceNumber.split(",").last,
        printVariousConsignors = tadModel.printVariousConsignors,
        consignorOne = tadModel.consignor,
        declarationType = tadModel.declarationType,
        printListOfItems = tadModel.printListOfItems,
        consignor = tadModel.consignor,
        numberOfItems = tadModel.numberOfItems,
        totalNumberOfPackages = tadModel.totalNumberOfPackages,
        printVariousConsignees = tadModel.printVariousConsignees,
        consigneeOne = tadModel.consignee,
        singleCountryOfDispatch = tadModel.singleCountryOfDispatch,
        singleCountryOfDestination = tadModel.singleCountryOfDestination,
        transportIdentity = tadModel.transportIdentity,
        transportCountry = tadModel.transportCountry,
        returnCopiesCustomsOffice = tadModel.returnCopiesCustomsOffice
    )

    <!--packages/goods description/docs/certs-->
    @table2(tadModel.printListOfItems, tadModel.numberOfItems, tadModel.goodsItems, tadModel.grossMass, tadModel.printBindingItinerary, tadModel.authorisation, tadModel.previousDocuments, tadModel.supportingDocuments, tadModel.transportDocuments, tadModel.additionalInformation, tadModel.additionalReferences, tadModel.goodsReference)

    <!--transhipment/certification-->
    @table3()

    <!--Principal/TIR Holder/Office of departure-->
    @table4(
        tadModel.holderOfTransitProcedure,
        tadModel.departureOffice,
        tadModel.acceptanceDate.map(_.formattedDate),
        tadModel.customsOfficeOfTransit,
        tadModel.guaranteeType,
        tadModel.destinationOffice,
        tadModel.controlResult,
        tadModel.printBindingItinerary
    )

    <!--control by office of departure/destination-->
    @table5(tadModel.seals, tadModel.printBindingItinerary, tadModel.controlResult, tadModel.limitDate)
}
